/* =========================================
   PURPLE AUTO SPA - MASTER PRINT STYLESHEET
   Handles: A4 Invoice, Thermal, Reports, Ledger
   ========================================= */

/* 1. SCREEN MODE: Hide Print Specific Areas */
#print-area-a4, 
#print-area-thermal, 
.report-print-header {
    display: none;
}

/* 2. PRINT MEDIA QUERY */
@media print {
    
    /* Global Reset */
    @page { margin: 0; size: auto; }
    * { box-sizing: border-box; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    
    body { 
        background: white; margin: 0; padding: 0; 
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        color: #000;
    }

    /* Hide App UI Elements Globally */
    .header, .no-print, .fab-container, 
    .modal-overlay, .custom-toast, .login-container, 
    .report-nav, .controls-card, .action-btns, 
    #loadingScreen, #debugBox, .welcome-section, .tiles-grid, .logout-btn {
        display: none !important;
    }

    /* =======================================================
       SCENARIO A: A4 INVOICE PRINTING
       ======================================================= */
    body.printing-a4 .dashboard-container { display: none !important; } /* Hide Dashboard content */
    
    body.printing-a4 #print-area-a4 {
        display: block !important;
        width: 210mm; /* A4 Width */
        min-height: 297mm;
        padding: 15mm;
        margin: 0 auto;
        position: relative;
    }

    /* A4 Layout Fixes */
    .a4-header {
        display: flex; justify-content: space-between; align-items: flex-start;
        border-bottom: 3px solid #6A1B9A; padding-bottom: 15px; margin-bottom: 20px;
    }
    .a4-logo { width: 80px !important; height: auto; display: block; margin-bottom: 10px; }
    .a4-title { font-size: 28px; font-weight: 900; color: #333; text-align: right; margin: 0; }
    .a4-sub { font-size: 13px; color: #444; margin-top: 3px; line-height: 1.4; }
    .a4-meta { text-align: right; font-size: 14px; margin-top: 5px; color: #555; }
    .a4-meta b { color: #000; }

    /* A4 Grid */
    .a4-info-grid {
        display: flex; justify-content: space-between; margin-bottom: 25px;
        background: #f8f8f8; padding: 15px; border-radius: 8px; border: 1px solid #eee;
    }
    .a4-info-col { width: 48%; }
    .a4-label { font-size: 11px; color: #777; font-weight: 700; text-transform: uppercase; display: block; margin-bottom: 4px; }
    .a4-val { font-size: 15px; font-weight: 700; color: #000; display: block; }

    /* A4 Table */
    .a4-table { width: 100%; border-collapse: collapse; margin-bottom: 25px; }
    .a4-table th { background: #6A1B9A !important; color: white !important; padding: 12px 10px; font-size: 12px; text-align: left; border: 1px solid #6A1B9A; }
    .a4-table td { padding: 12px 10px; border-bottom: 1px solid #ddd; font-size: 13px; color: #333; }
    .a4-table td.num { text-align: right; }

    /* A4 Totals */
    .a4-totals { display: flex; justify-content: flex-end; }
    .a4-totals-box { width: 45%; border-top: 2px solid #333; padding-top: 10px; }
    .a4-row { display: flex; justify-content: space-between; padding: 6px 0; font-size: 14px; }
    .a4-row.final { border-top: 1px solid #ddd; border-bottom: 3px double #6A1B9A; padding: 12px 0; font-weight: 900; font-size: 18px; color: #6A1B9A; margin-top: 8px; }

    /* A4 Footer & Stamp */
    .a4-footer { position: fixed; bottom: 10mm; left: 15mm; right: 15mm; text-align: center; border-top: 1px solid #ccc; padding-top: 10px; }
    .a4-terms { font-size: 10px; color: #666; text-align: left; margin-bottom: 10px; }
    .a4-tagline { font-size: 14px; font-weight: 700; color: #6A1B9A; }
    .stamp-box { position: absolute; bottom: 200px; right: 50px; border: 4px solid; padding: 10px 30px; font-size: 24px; font-weight: 900; text-transform: uppercase; transform: rotate(-15deg); opacity: 0.7; z-index: 99; }
    .stamp-paid { color: #27ae60; border-color: #27ae60; }
    .stamp-unpaid { color: #c0392b; border-color: #c0392b; }


    /* =======================================================
       SCENARIO B: THERMAL PRINTING
       ======================================================= */
    body.printing-thermal .dashboard-container { display: none !important; }
    
    body.printing-thermal #print-area-thermal {
        display: block !important;
        width: 78mm; margin: 0; padding: 2mm;
        font-family: 'Courier New', monospace; color: #000; font-size: 12px;
    }
    .th-center { text-align: center; margin-bottom: 10px; }
    .th-title { font-size: 16px; font-weight: bold; margin: 5px 0; }
    .th-line { border-bottom: 1px dashed #000; margin: 8px 0; }
    .th-row { display: flex; justify-content: space-between; margin-bottom: 4px; }
    .th-item-row { display: flex; justify-content: space-between; margin-bottom: 4px; font-weight: bold; }
    .th-item-name { width: 65%; } .th-item-price { width: 35%; text-align: right; }
    .th-big { font-size: 16px; font-weight: bold; margin-top: 8px; border-top: 1px solid #000; padding-top: 5px; }
    .th-stamp { text-align: center; border: 2px solid #000; padding: 5px; margin: 15px auto; width: 60%; font-weight: bold; font-size: 14px; }
    .th-footer { text-align: center; margin-top: 15px; font-size: 10px; }


    /* =======================================================
       SCENARIO C: REPORTS PRINTING (Yeh hai wo jo miss hua tha)
       ======================================================= */
    /* Jab hum reports print karenge to hume dashboard-container chahiye,
       lekin uske andar ke controls (nav/filter) nahi chahiye */
    
    body.printing-report {
        background: white;
    }

    /* Hide normal headers and filters */
    body.printing-report .header,
    body.printing-report .report-nav,
    body.printing-report .controls-card,
    body.printing-report .action-btns {
        display: none !important;
    }

    /* Show Custom Report Header */
    body.printing-report .report-print-header {
        display: flex !important;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #6A1B9A;
        padding-bottom: 15px;
        margin-bottom: 20px;
        width: 100%;
    }

    /* Ensure Table is Visible and Expanded */
    body.printing-report .dashboard-container {
        display: block !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    body.printing-report .table-responsive {
        display: block !important;
        width: 100% !important;
        box-shadow: none !important;
        overflow: visible !important; /* Allow table to grow long */
        height: auto !important;
    }

    /* Make Table Borders Dark for Print */
    body.printing-report table { width: 100%; border: 1px solid #000; }
    body.printing-report th { background: #eee !important; color: #000 !important; border: 1px solid #000; }
    body.printing-report td { border: 1px solid #000; color: #000; }
    body.printing-report tr { page-break-inside: avoid; } /* Row katna nahi chahiye */
}

